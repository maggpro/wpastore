<!DOCTYPE html>
<html lang="ru">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=no">
    <title>WPA.STORE - Магазин WPA приложений</title>
    
    <!-- Framework7 CSS -->
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/framework7@8.0.0/framework7-bundle.min.css">
    
    <!-- PWA Meta Tags -->
    <link rel="manifest" href="manifest.json">
    <meta name="theme-color" content="#667eea">
    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-status-bar-style" content="default">
    <meta name="apple-mobile-web-app-title" content="WPA.STORE">
    <link rel="apple-touch-icon" href="icons/icon-152x152.png">
    
    <!-- Custom Styles -->
    <link rel="stylesheet" href="styles/mobile-framework7.css">
    <link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css" rel="stylesheet">
</head>
<body>
    <div id="app">
        <!-- Main View -->
        <div class="view view-main view-init">
            <!-- Home Page -->
            <div class="page" data-name="home" style="display: block;">
                <!-- Home Page -->
                <div class="page-content">
                    <!-- Hero Section -->
                    <div class="hero-section">
                        <div class="hero-content">
                            <div class="hero-icon">
                                <i class="fas fa-shopping-bag"></i>
                            </div>
                            <h1>WPA.STORE</h1>
                            <p>Откройте для себя лучшие прогрессивные веб-приложения</p>
                            
                            <!-- PWA Install Button -->
                            <div class="pwa-install-container" id="pwaInstallContainer" style="display: none;">
                                <button id="pwaInstallBtn" class="button button-fill button-large">
                                    <i class="fas fa-download"></i>
                                    Установить приложение
                                </button>
                                <p class="pwa-install-hint">Установите WPA.STORE на устройство</p>
                            </div>
                        </div>
                    </div>

                    <!-- Search Bar -->
                    <div class="search-section">
                        <div class="search-container">
                            <input type="text" id="searchInput" placeholder="Поиск приложений..." class="search-input">
                            <button class="search-button">
                                <i class="fas fa-search"></i>
                            </button>
                        </div>
                    </div>

                    <!-- Featured Apps -->
                    <div class="content-block">
                        <div class="block-title">Рекомендуемые приложения</div>
                        <div class="apps-grid" id="featuredApps">
                            <!-- Apps will be loaded here -->
                        </div>
                    </div>

                    <!-- Recent Apps -->
                    <div class="content-block">
                        <div class="block-title">Недавно добавленные</div>
                        <div class="apps-grid" id="recentApps">
                            <!-- Apps will be loaded here -->
                        </div>
                    </div>
                </div>
            </div>

            <!-- Categories Page -->
            <div class="page" data-name="categories" style="display: none;">
                <div class="page-content">
                    <div class="page-header">
                        <h2>Категории</h2>
                    </div>
                    
                    <div class="categories-grid" id="categoriesGrid">
                        <!-- Categories will be loaded here -->
                    </div>
                </div>
            </div>

            <!-- Submit Page -->
            <div class="page" data-name="submit" style="display: none;">
                <div class="page-content">
                    <div class="page-header">
                        <h2>Добавить приложение</h2>
                    </div>
                    
                    <form id="submitAppForm" class="submit-form">
                        <div class="list">
                            <ul>
                                <li class="item-content item-input">
                                    <div class="item-inner">
                                        <div class="item-title item-label">Название *</div>
                                        <div class="item-input-wrap">
                                            <input type="text" id="appName" placeholder="Введите название приложения" required>
                                        </div>
                                    </div>
                                </li>
                                
                                <li class="item-content item-input">
                                    <div class="item-inner">
                                        <div class="item-title item-label">Описание *</div>
                                        <div class="item-input-wrap">
                                            <textarea id="appDescription" placeholder="Опишите функциональность приложения" required></textarea>
                                        </div>
                                    </div>
                                </li>
                                
                                <li class="item-content item-input">
                                    <div class="item-inner">
                                        <div class="item-title item-label">Категория *</div>
                                        <div class="item-input-wrap">
                                            <select id="appCategory" required>
                                                <option value="">Выберите категорию</option>
                                                <option value="productivity">Продуктивность</option>
                                                <option value="entertainment">Развлечения</option>
                                                <option value="education">Образование</option>
                                                <option value="health">Здоровье</option>
                                                <option value="finance">Финансы</option>
                                                <option value="social">Социальные сети</option>
                                                <option value="utilities">Утилиты</option>
                                                <option value="games">Игры</option>
                                            </select>
                                        </div>
                                    </div>
                                </li>
                                
                                <li class="item-content item-input">
                                    <div class="item-inner">
                                        <div class="item-title item-label">Разработчик *</div>
                                        <div class="item-input-wrap">
                                            <input type="text" id="appDeveloper" placeholder="Имя разработчика или компании" required>
                                        </div>
                                    </div>
                                </li>
                                
                                <li class="item-content item-input">
                                    <div class="item-inner">
                                        <div class="item-title item-label">Версия</div>
                                        <div class="item-input-wrap">
                                            <input type="text" id="appVersion" placeholder="1.0.0">
                                        </div>
                                    </div>
                                </li>
                                
                                <li class="item-content item-input">
                                    <div class="item-inner">
                                        <div class="item-title item-label">Веб-сайт</div>
                                        <div class="item-input-wrap">
                                            <input type="url" id="appWebsite" placeholder="https://example.com">
                                        </div>
                                    </div>
                                </li>
                                
                                <li class="item-content item-input">
                                    <div class="item-inner">
                                        <div class="item-title item-label">Иконка (URL)</div>
                                        <div class="item-input-wrap">
                                            <input type="url" id="appIcon" placeholder="https://example.com/icon.png">
                                        </div>
                                    </div>
                                </li>
                                
                                <li class="item-content item-input">
                                    <div class="item-inner">
                                        <div class="item-title item-label">Скриншоты (URL через запятую)</div>
                                        <div class="item-input-wrap">
                                            <textarea id="appScreenshots" placeholder="https://example.com/screen1.png, https://example.com/screen2.png"></textarea>
                                        </div>
                                    </div>
                                </li>
                            </ul>
                        </div>
                        
                        <div class="block">
                            <button type="submit" class="button button-fill button-large">
                                <i class="fas fa-paper-plane"></i>
                                Отправить приложение
                            </button>
                        </div>
                    </form>
                </div>
            </div>

            <!-- Admin Page -->
            <div class="page" data-name="admin" style="display: none;">
                <div class="page-content">
                    <div class="page-header">
                        <h2>Админ панель</h2>
                    </div>
                    
                    <div class="content-block">
                        <div class="block-title">Ожидающие рассмотрения</div>
                        <div class="pending-apps" id="pendingApps">
                            <!-- Pending apps will be loaded here -->
                        </div>
                    </div>
                </div>
            </div>

            <!-- Settings Page -->
            <div class="page" data-name="settings" style="display: none;">
                <div class="page-content">
                    <div class="page-header">
                        <h2>Настройки</h2>
                    </div>
                    
                    <div class="list">
                        <ul>
                            <li class="item-content item-input">
                                <div class="item-inner">
                                    <div class="item-title item-label">GitHub Username</div>
                                    <div class="item-input-wrap">
                                        <input type="text" id="githubOwner" placeholder="Ваш GitHub username">
                                    </div>
                                </div>
                            </li>
                            
                            <li class="item-content item-input">
                                <div class="item-inner">
                                    <div class="item-title item-label">GitHub Repository</div>
                                    <div class="item-input-wrap">
                                        <input type="text" id="githubRepo" placeholder="wpastore">
                                    </div>
                                </div>
                            </li>
                            
                            <li class="item-content item-input">
                                <div class="item-inner">
                                    <div class="item-title item-label">Personal Access Token</div>
                                    <div class="item-input-wrap">
                                        <input type="password" id="githubToken" placeholder="Ваш GitHub токен">
                                    </div>
                                </div>
                            </li>
                            
                            <li class="item-content item-input">
                                <div class="item-inner">
                                    <div class="item-title item-label">Использовать GitHub Issues как БД</div>
                                    <div class="item-input-wrap">
                                        <select id="useIssuesAsDB">
                                            <option value="false">Нет</option>
                                            <option value="true">Да</option>
                                        </select>
                                    </div>
                                </div>
                            </li>
                        </ul>
                    </div>
                    
                    <div class="block">
                        <button id="saveSettings" class="button button-fill button-large">
                            <i class="fas fa-save"></i>
                            Сохранить настройки
                        </button>
                    </div>
                </div>
            </div>
        </div>

        <!-- Bottom Tabbar -->
        <div class="toolbar toolbar-bottom tabbar">
            <div class="toolbar-inner">
                <a href="#" class="tab-link tab-link-active" data-page="home">
                    <i class="fas fa-home"></i>
                    <span>Главная</span>
                </a>
                <a href="#" class="tab-link" data-page="categories">
                    <i class="fas fa-th-large"></i>
                    <span>Категории</span>
                </a>
                <a href="#" class="tab-link" data-page="submit">
                    <i class="fas fa-plus"></i>
                    <span>Добавить</span>
                </a>
                <a href="#" class="tab-link" data-page="admin">
                    <i class="fas fa-user-shield"></i>
                    <span>Админка</span>
                </a>
                <a href="#" class="tab-link" data-page="settings">
                    <i class="fas fa-cog"></i>
                    <span>Настройки</span>
                </a>
            </div>
        </div>
    </div>

    <!-- Framework7 JS -->
    <script src="https://cdn.jsdelivr.net/npm/framework7@8.0.0/framework7-bundle.min.js"></script>
    
    <!-- App Scripts -->
    <script src="js/config.js"></script>
    <script src="js/github-db.js"></script>
    <script src="js/data.js"></script>
    <script src="js/utils.js"></script>
    <script src="js/components.js"></script>
    <script src="js/device-detector.js"></script>
    <script src="js/app-mobile.js"></script>
</body>
</html>
